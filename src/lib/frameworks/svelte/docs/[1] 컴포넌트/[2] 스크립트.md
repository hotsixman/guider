# 스크립트
이전에 말씀드렸다시피, 스벨트의 `script`는 자바스크립트와 약간의 차이가 있습니다.
## 1. props
Svelte의 컴포넌트도 props를 가질 수 있습니다. props는 해당 컴포넌트를 사용하는 컴포넌트(부모 컴포넌트)에서 해당 컴포넌트(자식 컴포넌트)로 값을 전달하기 위해 사용됩니다.

state를 props로 설정하는 방법은 `export` 키워드를 사용하는 것입니다.
```svelte
<!--src/components/Counter.svelte-->
<script>
    export let count;
    ...
</script>
```
props와 state의 이름을 다르게 하고 싶다면 다음과 같이 작성합니다.
```svelte
<!--src/components/Counter.svelte-->
<script>
    let count;

    export {count as co} //props로는 "co"라는 이름이 사용됩니다.
    ...
</script>
```
이때 초기값을 정할 수도 있습니다.
```svelte
<!--src/components/Counter.svelte-->
<script>
    export let count = 0;
    ...
</script>
```
부모 컴포넌트에서 자식 컴포넌트로 값을 전달해주지 않은 경우, 초기값이 사용됩니다.

부모 컴포넌트에서 자식 컴포넌트로 값을 전달하는 방법은 html에서 attribute를 설정하는 방법과 비슷합니다.
```svelte
<!--App.svelte-->
<script>
    import Counter from './components/counter';
</script>

<Counter count={0}/>
```
{}를 사용하지않고 ""를 사용할 수도 있지만, ""를 사용할 경우 문자열밖에 전달할 수 없습니다.

## 2. $: 반응성
만약 `count`의 2배의 값을 가지는 `doubled`라는 state를 생성해봅시다.
```svelte
<script>
    let count = 1;
    
    let doubled = count * 2;//이렇게 쓰면 안됩니다.

    $: doubled = count * 2;//이렇게 써야 합니다.
</script>
```
아마 `let doubled = count * 2;`와 같이 적으면 `count`가 바뀌더라도 `doubled`는 항상 2일 것입니다. 이는 `doubled`의 초기값이 `count`의 2배로 설정했을 뿐, `doubled`가 `count`에 따라 바뀌게 하는 것은 아니기 때문입니다.

이때 `$:`를 사용하면, `count`가 바뀔 때 `doubled`의 값도 재정의할 수 있습니다.

또한 {}와 같이 사용할 수 있습니다. `count`가 바뀔 때 `count`의 값을 출력하도록 해봅시다.
```svelte
<script>
    let count = 1;
    
    $: {
        console.log(count)
    }
</script>
```
`$: {...}`를 사용하면, 해당 코드 블록 안의 state가 바뀔 때 마다 코드가 재실행됩니다.


## $스토어
Svelte에는 store(스토어)라는 것이 있습니다. 스토어는 간단히 말해 컴포넌트 밖에서 정의될 수 있는 state 같은 것입니다. 자세한 설명은 [스토어](/frameworks/svelte/2/스토어)를 참고하세요.

원래 스토어의 값을 읽거나, 스토어에 값을 할당하려면 `get` 함수를 사용하거나 `subscribe`, `set`, `update` 같은 메소드를 이용해야합니다. 그러나 `$`를 스토어의 앞에 붙이면, 스토어를 일반 state(또는 변수)와 같이 사용할 수 있습니다.

```svelte
<script>
    import { get, writable } from 'svelte/store';

    const count = writable(0)

    //$를 쓰지 않으면 이렇게 사용해야합니다.
    let doubled = get(count)
    count.subscribe((value) => { doubled = value * 2});
    function increase(){
        count.update((value) => value + 1)
    }

    //$를 사용하면 이렇게 작성할 수 있습니다.
    $: doubled = $count * 2;
    function increase(){
        $count++;
    }
</script>
```